# 队列和队列类型 Queue & Queue Family

对于客户端，队列即 command buffer 提交的渠道；对于Vulkan，队列即其向一个设备驱动程序发送特定命令的渠道。能够发送的命令的类型集合构成了队列类型。在客户端向Vulkan提出提交 command buffer 到队列的请求时，Vulkan可能会通过该队列类型中的多条队列并行发送命令到驱动程序，在硬件级别进行指令并行，但是在客户端中看到的逻辑队列只有一个。

常见队列类型为：图像渲染队列（可以执行`vkCmdDraw`系列指令）、通用计算队列（可以执行`vkCmdDispatch`系列指令）、转移/拷贝队列（可以执行`vkCmdCopy`系列指令）。注意，显示时涉及到的“显示队列”并非一个队列类型，而是一个特定队列的兼容能力，通常图像渲染队列就兼容显示能力。

常见的队列类型和数量为：

| 队列类型编号 |              队列能力（flags）              | 队列数量 （GTX 2080Ti） |
| :----------: | :-----------------------------------------: | :---------------------: |
|      0       | GRAPHICS, COMPUTE, TRANSFER, SPARSE_BINDING |           16            |
|      1       |                  TRANSFER                   |            1            |
|      2       |                   COMPUTE                   |            8            |

用途：draw loop 中，一个 command buffer 记录完毕后将会提交到一个 graphics queue，同时 swap chain 将会把特定图形通过 present queue 提交并显示。

提交到不同队列的 command buffer 中的命令将会同时甚至乱序执行。提交到同一队列中的命令会顺序执行，但与客户端中的代码仍然是并行的，即提交指令不阻塞客户端代码。但，客户端和显示设备以及不同队列中的并行控制仍然是要通过客户端进行的。


